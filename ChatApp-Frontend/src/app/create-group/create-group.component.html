<div class="row h-100">
  <div class="container-fluid d-flex flex-column h-100 bg-dark-subtle">
    <!-- <div class="row w-100">
                <div class="col"> -->
    <div class="row">
      <div class="col my-3 h2">Create New Group</div>
    </div>
    <div class="row">
      <div class="col-2">
        <div class="form-group mb-3 text-black-50" class="avatar-input rounded-circle mb-3" (click)="openFileInput()">
          <div class="avatar-container">
            <img [src]="getProfilePictureUrl()" class="avatar rounded-circle"
              onerror="this.src='../../assets/Icons/person-circle.svg'">
          </div>
          <input type="file" id="profilePicture" name="profilePicture" (change)="onFileSelected($event)"
            class="form-control" style="display: none;">

        </div>
      </div>
      <div class="col">
        <form class="form-floating mt-1 mb-1 text-black-50 row m-2">
          <input type="username" id="groupName" name="groupName" [(ngModel)]="groupName" #group_name="ngModel" required
            class="form-control" placeholder="Group Name" />
          <label for="groupName" class="z-0">Group Name</label>
        </form>
        <div *ngIf="group_name.invalid && group_name.touched" class="row m-2 text-danger">
          Please Enter Group Name
        </div>
        <div class="row m-2">
          Description:
          <textarea maxlength="100" id="description" [(ngModel)]="description" class="form-control me-3"
            placeholder="Description"><textarea></textarea>
        </div>
      </div>
    </div>

    <div class="row m-2">
      Add Members:
      <input class="form-control m-0 shadow-none" placeholder="Search" (input)="search($event)" />
      <div class="d-flex flex-wrap">
        <div title="click to remove" *ngFor="let user of searchResults; index as i" class="text-center m-2 user"
          (click)="addUser(user)">
          <img class="m-1 icon mx-2" [src]="user.profilePictureUrl"
            onerror=" this.src='../../assets/Icons/person-circle.svg'" />
          <p class="text-center mb-1">{{ user.username }}</p>
        </div>
      </div>
    </div>
    <div class="row m-2 flex-grow-1">
      <div class="d-flex p-0 flex-column align-items-start flex-grow-1">
        <strong>Members:</strong>
        <div class="d-flex flex-wrap">
          <div title="click to remove" *ngFor="let user of groupUsers; index as i" class="text-center m-2 user"
            (click)="removeUser(user)">
            <img class="m-1 icon mx-2" [src]="user.profilePictureUrl"
              onerror=" this.src='../../assets/Icons/person-circle.svg'" />
            <p class="text-center mb-1">{{ user.username }}</p>
          </div>
          <div *ngIf="groupUsers.size < 1" class="text-danger">
            Add at least one other member
          </div>
        </div>
      </div>
    </div>

    <div title="Enter Group Name and at least one member" class="row m-3">
      <button (click)="createGroup()" type="submit" #createBtn [disabled]="group_name.invalid || groupUsers.size < 1"
        class="btn btn-primary">
        Create Group
      </button>
    </div>
  </div>
</div>